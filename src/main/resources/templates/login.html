<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>스마트스토어 - 로그인</title>
    <link th:href="@{/css/store.css}" rel="stylesheet" />
</head>
<body>
<!-- 헤더 삽입 -->
<div th:replace="~{fragments/header :: header}"></div>

<!-- 로그인 폼 -->
<section class="login-section">
    <div class="container">
        <div class="form-wrapper">
            <h2 class="form-title">로그인</h2>
            <p class="form-subtitle">스마트스토어에 오신 것을 환영합니다</p>

            <!-- 에러 메시지 -->
            <div class="alert alert-danger" th:if="${param.error}">
                <span>이메일 또는 비밀번호가 올바르지 않습니다.</span>
            </div>

            <div class="alert alert-danger" th:if="${error}">
                <span th:text="${error}">오류 메시지</span>
            </div>

            <!-- 회원가입 완료 메시지 -->
            <div class="alert alert-success" th:if="${param.registered}">
                <span>회원가입이 완료되었습니다. 로그인해주세요.</span>
            </div>

            <!-- 로그아웃 메시지 -->
            <div class="alert alert-success" th:if="${param.logout}">
                <span>로그아웃되었습니다.</span>
            </div>

            <form class="login-form" method="post" action="/login">
                <!-- 이메일 -->
                <div class="form-group">
                    <label for="email">이메일</label>
                    <input type="email" id="email" name="email" placeholder="example@email.com" required autofocus />
                </div>

                <!-- 비밀번호 -->
                <div class="form-group">
                    <label for="password">비밀번호</label>
                    <input type="password" id="password" name="password" placeholder="비밀번호를 입력하세요" required />
                </div>

                <!-- 로그인 유지 -->
                <div class="form-group checkbox-group">
                    <label>
                        <input type="checkbox" name="remember-me" />
                        <span>로그인 상태 유지</span>
                    </label>
                </div>

                <!-- CSRF 토큰 (Thymeleaf 자동 생성) -->
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

                <!-- 로그인 버튼 -->
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary btn-block">로그인</button>
                </div>

                <!-- 추가 링크 -->
                <div class="form-links">
                    <a href="/find-password">비밀번호 찾기</a>
                    <span class="divider">|</span>
                    <a href="/find-email">이메일 찾기</a>
                </div>

                <!-- 회원가입 링크 -->
                <div class="form-footer">
                    <p>아직 회원이 아니신가요? <a th:href="@{/register}">회원가입</a></p>
                </div>
            </form>
        </div>
    </div>
</section>

<!-- 푸터 삽입 -->
<div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>
