<!-- 헤더 영역 -->
<header class="header" th:fragment="header" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <div class="header-top">
        <div class="container">
            <div class="header-links">
                <div class="logo">
                    <a href="/">스마트스토어</a>
                </div>

                <form class="search-form" action="/products" method="get">
                    <input type="text" name="keyword" placeholder="검색어를 입력하세요" required />
                    <button type="submit">검색</button>
                </form>

                <div class="right-links">
                    <!-- 비로그인 상태일 때만 표시 -->
                    <a href="/register" sec:authorize="!isAuthenticated()">회원가입</a>
                    <a href="/login" sec:authorize="!isAuthenticated()">로그인</a>

                    <span sec:authorize="isAuthenticated()">
                      안녕하세요, <strong th:text="${session.LOGIN_MEMBER.name}"></strong>님
                      <form th:action="@{/logout}" method="post" style="display:inline">
                          <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                          <button type="submit" class="btn-link">로그아웃</button>
                      </form>
                    </span>

                    <!-- SELLER 권한이 있을 때만 표시 -->
                    <a href="/seller/dashboard" sec:authorize="hasRole('SELLER')">판매자센터</a>

                    <!-- 장바구니는 항상 표시 -->
                    <a href="/cart">장바구니</a>

<!--                    &lt;!&ndash; 판매자만 노출 &ndash;&gt;-->
<!--                    <a th:href="@{/seller/products}" sec:authorize="hasRole('SELLER')">상품 등록/관리</a>-->
                </div>
            </div>
        </div>
    </div>

    <div class="header-bottom">
        <div class="container">
            <nav class="nav">
                <a href="/?category=fashion">패션</a>
                <a href="/?category=beauty">뷰티</a>
                <a href="/?category=food">식품</a>
                <a href="/?category=digital">디지털</a>
                <a href="/?category=sports">스포츠</a>
                <a href="/?category=home">홈</a>
            </nav>
        </div>
    </div>
</header>
